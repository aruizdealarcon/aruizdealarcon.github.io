<!DOCTYPE html>
<html>
  <head>
    <script>
      function replace(){
        let ntext = document.getElementById("myInp").value;
        ntext = ntext.replaceAll(/\\pic\[fill=white/, "\\node[white tensor");
        ntext = ntext.replaceAll(/\\pic\[orange/, "\\node[red tensor");
        ntext = ntext.replaceAll(/darkorange/, "virtual");
        ntext = ntext.replaceAll(/\\pic/, "\\node[black tensor");
        ntext = ntext.replaceAll(/\{ipe [A-Za-z0-9]+\}/, "{}");
        ntext = ntext.replaceAll(/\[ipe import, baseline, trim left\]/, "[scale=0.01]");
        document.getElementById("myOutp").value = ntext;
      }
    </script>
  </head>
  <!-- 
        ntext = ntext.replace('\\pic[orange]', '\\node[red tensor]');
        ntext = ntext.replace('{ipe disk}', '{}');
        ntext = ntext.replace('{ipe fdisk}', '{}');
        ntext = ntext.replace('[ipe import, baseline, trim left]', '[scale=0.01]');
        ntext = ntext.replace('darkorange', 'virtual');
        ntext = ntext.replace('\\pic', '\\node');
  -->
  <body>
    <textarea rows="40" cols="70" id="myInp"></textarea>
    <textarea rows="40" cols="70" id="myOutp"></textarea>
    <button id="button" onclick="replace();">IPETikZ to TikZ</button>
  </body>
</html>
